(function(t,n){if(typeof exports=="object"&&typeof module=="object")module.exports=n(require("katex"));else if(typeof define=="function"&&define.amd)define(["katex"],n);else{var o,s=n(typeof exports=="object"?require("katex"):t.katex);for(o in s)(typeof exports=="object"?exports:t)[o]=s[o]}})(typeof self!="undefined"?self:this,function(e){return function(){"use strict";var n,o={771:function(t){t.exports=e}},s={};function t(e){var n,i=s[e];return i!==void 0?i.exports:(n=s[e]={exports:{}},o[e](n,n.exports,t),n.exports)}return!function(){t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,{a:n}),n}}(),!function(){t.d=function(e,n){for(var s in n)t.o(n,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:n[s]})}}(),!function(){t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),n={},!function(){var e,n,i,a=t(771),o=t.n(a);o().__defineMacro("\\ce",function(e){return i(e.consumeArgs(1)[0],"ce")}),o().__defineMacro("\\pu",function(e){return i(e.consumeArgs(1)[0],"pu")}),o().__defineMacro("\\tripledash",`{\\vphantom{-}\\raisebox{2.56mu}{$\\mkern2mu\\tiny\\text{-}\\mkern1mu\\text{-}\\mkern1mu\\text{-}\\mkern2mu$}}`),i=function(s,o){for(var c,a="",r=s.length&&s[s.length-1].loc.start,i=s.length-1;i>=0;i--)s[i].loc.start>r&&(a+=" ",r=s[i].loc.start),a+=s[i].text,r+=s[i].text.length;return c=n.go(e.go(a,o)),c},e={go:function(n,s){if(!n)return[];s===void 0&&(s="ce");var o,i,a,r,c,l,d,m,f,p,u="0",h={};for(h.parenthesisLevel=0,n=n.replace(/\n/g," "),n=n.replace(/[\u2212\u2013\u2014\u2010]/g,"-"),n=n.replace(/[\u2026]/g,"..."),l=10,m=[];!0;){p!==n?(l=10,p=n):l--,a=e.stateMachines[s],d=a.transitions[u]||a.transitions["*"];iterateTransitions:for(r=0;r<d.length;r++)if(c=e.patterns.match_(d[r].pattern,n),c){for(o=d[r].task,i=0;i<o.action_.length;i++){if(a.actions[o.action_[i].type_])f=a.actions[o.action_[i].type_](h,c.match_,o.action_[i].option);else if(e.actions[o.action_[i].type_])f=e.actions[o.action_[i].type_](h,c.match_,o.action_[i].option);else throw["MhchemBugA","mhchem bug A. Please report. ("+o.action_[i].type_+")"];e.concatArray(m,f)}if(u=o.nextState||u,n.length>0){if(o.revisit||(n=c.remainder),!o.toContinue)break iterateTransitions}else return m}if(l<=0)throw["MhchemBugU","mhchem bug U. Please report."]}},concatArray:function(t,n){if(n)if(Array.isArray(n))for(var s=0;s<n.length;s++)t.push(n[s]);else t.push(n)},patterns:{patterns:{empty:/^$/,else:/^./,else2:/^./,space:/^\s/,"space A":/^\s(?=[A-Z\\$])/,space$:/^\s$/,"a-z":/^[a-z]/,x:/^x/,x$:/^x$/,i$:/^i$/,letters:/^(?:[a-zA-Z\u03B1-\u03C9\u0391-\u03A9?@]|(?:\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\s+|\{\}|(?![a-zA-Z]))))+/,"\\greek":/^\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\s+|\{\}|(?![a-zA-Z]))/,"one lowercase latin letter $":/^(?:([a-z])(?:$|[^a-zA-Z]))$/,"$one lowercase latin letter$ $":/^\$(?:([a-z])(?:$|[^a-zA-Z]))\$$/,"one lowercase greek letter $":/^(?:\$?[\u03B1-\u03C9]\$?|\$?\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega)\s*\$?)(?:\s+|\{\}|(?![a-zA-Z]))$/,digits:/^[0-9]+/,"-9.,9":/^[+-]?(?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))/,"-9.,9 no missing 0":/^[+-]?[0-9]+(?:[.,][0-9]+)?/,"(-)(9.,9)(e)(99)":function(t){var n=t.match(/^(\+-|\+\/-|\+|-|\\pm\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))?(\((?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))\))?(?:([eE]|\s*(\*|x|\\times|\u00D7)\s*10\^)([+-]?[0-9]+|\{[+-]?[0-9]+\}))?/);return n&&n[0]?{match_:n.splice(1),remainder:t.substr(n[0].length)}:null},"(-)(9)^(-9)":function(t){var n=t.match(/^(\+-|\+\/-|\+|-|\\pm\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+)?)\^([+-]?[0-9]+|\{[+-]?[0-9]+\})/);return n&&n[0]?{match_:n.splice(1),remainder:t.substr(n[0].length)}:null},"state of aggregation $":function(n){var s,o=e.patterns.findObserveGroups(n,"",/^\([a-z]{1,3}(?=[),])/,")","");return o&&o.remainder.match(/^($|[\s,;)\]}])/)?o:(s=n.match(/^(?:\((?:\\ca\s?)?\$[amothc]\$\))/),s?{match_:s[0],remainder:n.substr(s[0].length)}:null)},"_{(state of aggregation)}$":/^_\{(\([a-z]{1,3}\))\}/,"{[(":/^(?:\\\{|\[|\()/,")]}":/^(?:\)|\]|\\\})/,", ":/^[,;]\s*/,",":/^[,;]/,".":/^[.]/,". ":/^([.\u22C5\u00B7\u2022])\s*/,"...":/^\.\.\.(?=$|[^.])/,"* ":/^([*])\s*/,"^{(...)}":function(n){return e.patterns.findObserveGroups(n,"^{","","","}")},"^($...$)":function(n){return e.patterns.findObserveGroups(n,"^","$","$","")},"^a":/^\^([0-9]+|[^\\_])/,"^\\x{}{}":function(n){return e.patterns.findObserveGroups(n,"^",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"^\\x{}":function(n){return e.patterns.findObserveGroups(n,"^",/^\\[a-zA-Z]+\{/,"}","")},"^\\x":/^\^(\\[a-zA-Z]+)\s*/,"^(-1)":/^\^(-?\d+)/,"'":/^'/,"_{(...)}":function(n){return e.patterns.findObserveGroups(n,"_{","","","}")},"_($...$)":function(n){return e.patterns.findObserveGroups(n,"_","$","$","")},_9:/^_([+-]?[0-9]+|[^\\])/,"_\\x{}{}":function(n){return e.patterns.findObserveGroups(n,"_",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"_\\x{}":function(n){return e.patterns.findObserveGroups(n,"_",/^\\[a-zA-Z]+\{/,"}","")},"_\\x":/^_(\\[a-zA-Z]+)\s*/,"^_":/^(?:\^(?=_)|_(?=\^)|[\^_]$)/,"{}":/^\{\}/,"{...}":function(n){return e.patterns.findObserveGroups(n,"","{","}","")},"{(...)}":function(n){return e.patterns.findObserveGroups(n,"{","","","}")},"$...$":function(n){return e.patterns.findObserveGroups(n,"","$","$","")},"${(...)}$":function(n){return e.patterns.findObserveGroups(n,"${","","","}$")},"$(...)$":function(n){return e.patterns.findObserveGroups(n,"$","","","$")},"=<>":/^[=<>]/,"#":/^[#\u2261]/,"+":/^\+/,"-$":/^-(?=[\s_},;\]/]|$|\([a-z]+\))/,"-9":/^-(?=[0-9])/,"- orbital overlap":/^-(?=(?:[spd]|sp)(?:$|[\s,;)\]}]))/,"-":/^-/,"pm-operator":/^(?:\\pm|\$\\pm\$|\+-|\+\/-)/,operator:/^(?:\+|(?:[-=<>]|<<|>>|\\approx|\$\\approx\$)(?=\s|$|-?[0-9]))/,arrowUpDown:/^(?:v|\(v\)|\^|\(\^\))(?=$|[\s,;)\]}])/,"\\bond{(...)}":function(n){return e.patterns.findObserveGroups(n,"\\bond{","","","}")},"->":/^(?:<->|<-->|->|<-|<=>>|<<=>|<=>|[\u2192\u27F6\u21CC])/,CMT:/^[CMT](?=\[)/,"[(...)]":function(n){return e.patterns.findObserveGroups(n,"[","","","]")},"1st-level escape":/^(&|\\\\|\\hline)\s*/,"\\,":/^(?:\\[, ;:])/,"\\x{}{}":function(n){return e.patterns.findObserveGroups(n,"",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"\\x{}":function(n){return e.patterns.findObserveGroups(n,"",/^\\[a-zA-Z]+\{/,"}","")},"\\ca":/^\\ca(?:\s+|(?![a-zA-Z]))/,"\\x":/^(?:\\[a-zA-Z]+\s*|\\[_&{}%])/,orbital:/^(?:[0-9]{1,2}[spdfgh]|[0-9]{0,2}sp)(?=$|[^a-zA-Z])/,others:/^[/~|]/,"\\frac{(...)}":function(n){return e.patterns.findObserveGroups(n,"\\frac{","","","}","{","","","}")},"\\overset{(...)}":function(n){return e.patterns.findObserveGroups(n,"\\overset{","","","}","{","","","}")},"\\underset{(...)}":function(n){return e.patterns.findObserveGroups(n,"\\underset{","","","}","{","","","}")},"\\underbrace{(...)}":function(n){return e.patterns.findObserveGroups(n,"\\underbrace{","","","}_","{","","","}")},"\\color{(...)}0":function(n){return e.patterns.findObserveGroups(n,"\\color{","","","}")},"\\color{(...)}{(...)}1":function(n){return e.patterns.findObserveGroups(n,"\\color{","","","}","{","","","}")},"\\color(...){(...)}2":function(n){return e.patterns.findObserveGroups(n,"\\color","\\","",/^(?=\{)/,"{","","","}")},"\\ce{(...)}":function(n){return e.patterns.findObserveGroups(n,"\\ce{","","","}")},oxidation$:/^(?:[+-][IVX]+|\\pm\s*0|\$\\pm\$\s*0)$/,"d-oxidation$":/^(?:[+-]?\s?[IVX]+|\\pm\s*0|\$\\pm\$\s*0)$/,"roman numeral":/^[IVX]+/,"1/2$":/^[+-]?(?:[0-9]+|\$[a-z]\$|[a-z])\/[0-9]+(?:\$[a-z]\$|[a-z])?$/,amount:function(n){if(s=n.match(/^(?:(?:(?:\([+-]?[0-9]+\/[0-9]+\)|[+-]?(?:[0-9]+|\$[a-z]\$|[a-z])\/[0-9]+|[+-]?[0-9]+[.,][0-9]+|[+-]?\.[0-9]+|[+-]?[0-9]+)(?:[a-z](?=\s*[A-Z]))?)|[+-]?[a-z](?=\s*[A-Z])|\+(?!\s))/),s)return{match_:s[0],remainder:n.substr(s[0].length)};var s,o=e.patterns.findObserveGroups(n,"","$","$","");return o&&(s=o.match_.match(/^\$(?:\(?[+-]?(?:[0-9]*[a-z]?[+-])?[0-9]*[a-z](?:[+-][0-9]*[a-z]?)?\)?|\+|-)\$$/),s)?{match_:s[0],remainder:n.substr(s[0].length)}:null},amount2:function(t){return this.amount(t)},"(KV letters),":/^(?:[A-Z][a-z]{0,2}|i)(?=,)/,formula$:function(t){if(t.match(/^\([a-z]+\)$/))return null;var n=t.match(/^(?:[a-z]|(?:[0-9 +\-,.()]+[a-z])+[0-9 +\-,.()]*|(?:[a-z][0-9 +\-,.()]+)+[a-z]?)$/);return n?{match_:n[0],remainder:t.substr(n[0].length)}:null},uprightEntities:/^(?:pH|pOH|pC|pK|iPr|iBu)(?=$|[^a-zA-Z])/,"/":/^\s*(\/)\s*/,"//":/^\s*(\/\/)\s*/,"*":/^\s*[*.]\s*/},findObserveGroups:function(t,n,s,o,i,a,r,c,l,d){var u,m,p,g,f=function(t,n){if(typeof n=="string")return t.indexOf(n)!==0?null:n;var s=t.match(n);return s?s[0]:null},v=function(t,n,s){for(var i,a,o=0;n<t.length;){if(i=t.charAt(n),a=f(t.substr(n),s),a!==null&&o===0)return{endMatchBegin:n,endMatchEnd:n+a.length};if(i==="{")o++;else if(i==="}"){if(o===0)throw["ExtraCloseMissingOpen","Extra close brace or missing open brace"];o--}n++}return o>0?null:null},h=f(t,n);return h===null?null:(t=t.substr(h.length),h=f(t,s),h===null?null:(u=v(t,h.length,o||i),u===null?null:(p=t.substring(0,o?u.endMatchEnd:u.endMatchBegin),a||r?(m=this.findObserveGroups(t.substr(u.endMatchEnd),a,r,c,l),m===null?null:(g=[p,m.match_],{match_:d?g.join(""):g,remainder:m.remainder})):{match_:p,remainder:t.substr(u.endMatchEnd)})))},match_:function(n,s){var o,i,a=e.patterns.patterns[n];if(a===void 0)throw["MhchemBugP","mhchem bug P. Please report. ("+n+")"];return typeof a=="function"?e.patterns.patterns[n](s):(o=s.match(a),o?(o[2]?i=[o[1],o[2]]:o[1]?i=o[1]:i=o[0],{match_:i,remainder:s.substr(o[0].length)}):null)}},actions:{"a=":function(t,n){t.a=(t.a||"")+n},"b=":function(t,n){t.b=(t.b||"")+n},"p=":function(t,n){t.p=(t.p||"")+n},"o=":function(t,n){t.o=(t.o||"")+n},"q=":function(t,n){t.q=(t.q||"")+n},"d=":function(t,n){t.d=(t.d||"")+n},"rm=":function(t,n){t.rm=(t.rm||"")+n},"text=":function(t,n){t.text_=(t.text_||"")+n},insert:function(t,n,s){return{type_:s}},"insert+p1":function(t,n,s){return{type_:s,p1:n}},"insert+p1+p2":function(t,n,s){return{type_:s,p1:n[0],p2:n[1]}},copy:function(t,n){return n},rm:function(t,n){return{type_:"rm",p1:n||""}},text:function(n,s){return e.go(s,"text")},"{text}":function(n,s){var o=["{"];return e.concatArray(o,e.go(s,"text")),o.push("}"),o},"tex-math":function(n,s){return e.go(s,"tex-math")},"tex-math tight":function(n,s){return e.go(s,"tex-math tight")},bond:function(t,n,s){return{type_:"bond",kind_:s||n}},"color0-output":function(t,n){return{type_:"color0",color:n[0]}},ce:function(n,s){return e.go(s)},"1/2":function(t,n){var s,o=[];return n.match(/^[+-]/)&&(o.push(n.substr(0,1)),n=n.substr(1)),s=n.match(/^([0-9]+|\$[a-z]\$|[a-z])\/([0-9]+)(\$[a-z]\$|[a-z])?$/),s[1]=s[1].replace(/\$/g,""),o.push({type_:"frac",p1:s[1],p2:s[2]}),s[3]&&(s[3]=s[3].replace(/\$/g,""),o.push({type_:"tex-math",p1:s[3]})),o},"9,9":function(n,s){return e.go(s,"9,9")}},createTransitions:function(t){var n,s,o,i,a,r,l,d,u,c={};for(o in t)for(a in t[o]){i=a.split("|"),t[o][a].stateArray=i;for(s=0;s<i.length;s++)c[i[s]]=[]}for(o in t)for(a in t[o]){i=t[o][a].stateArray||[];for(s=0;s<i.length;s++){if(n=t[o][a],n.action_){n.action_=[].concat(n.action_);for(r=0;r<n.action_.length;r++)typeof n.action_[r]=="string"&&(n.action_[r]={type_:n.action_[r]})}else n.action_=[];for(d=o.split("|"),l=0;l<d.length;l++)if(i[s]==="*")for(u in c)c[u].push({pattern:d[l],task:n});else c[i[s]].push({pattern:d[l],task:n})}}return c},stateMachines:{}},e.stateMachines={ce:{transitions:e.createTransitions({empty:{"*":{action_:"output"}},else:{"0|1|2":{action_:"beginsWithBond=false",revisit:!0,toContinue:!0}},oxidation$:{0:{action_:"oxidation-output"}},CMT:{r:{action_:"rdt=",nextState:"rt"},rd:{action_:"rqt=",nextState:"rdt"}},arrowUpDown:{"0|1|2|as":{action_:["sb=false","output","operator"],nextState:"1"}},uprightEntities:{"0|1|2":{action_:["o=","output"],nextState:"1"}},orbital:{"0|1|2|3":{action_:"o=",nextState:"o"}},"->":{"0|1|2|3":{action_:"r=",nextState:"r"},"a|as":{action_:["output","r="],nextState:"r"},"*":{action_:["output","r="],nextState:"r"}},"+":{o:{action_:"d= kv",nextState:"d"},"d|D":{action_:"d=",nextState:"d"},q:{action_:"d=",nextState:"qd"},"qd|qD":{action_:"d=",nextState:"qd"},dq:{action_:["output","d="],nextState:"d"},3:{action_:["sb=false","output","operator"],nextState:"0"}},amount:{"0|2":{action_:"a=",nextState:"a"}},"pm-operator":{"0|1|2|a|as":{action_:["sb=false","output",{type_:"operator",option:"\\pm"}],nextState:"0"}},operator:{"0|1|2|a|as":{action_:["sb=false","output","operator"],nextState:"0"}},"-$":{"o|q":{action_:["charge or bond","output"],nextState:"qd"},d:{action_:"d=",nextState:"d"},D:{action_:["output",{type_:"bond",option:"-"}],nextState:"3"},q:{action_:"d=",nextState:"qd"},qd:{action_:"d=",nextState:"qd"},"qD|dq":{action_:["output",{type_:"bond",option:"-"}],nextState:"3"}},"-9":{"3|o":{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"3"}},"- orbital overlap":{o:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"},d:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"}},"-":{"0|1|2":{action_:[{type_:"output",option:1},"beginsWithBond=true",{type_:"bond",option:"-"}],nextState:"3"},3:{action_:{type_:"bond",option:"-"}},a:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"},as:{action_:[{type_:"output",option:2},{type_:"bond",option:"-"}],nextState:"3"},b:{action_:"b="},o:{action_:{type_:"- after o/d",option:!1},nextState:"2"},q:{action_:{type_:"- after o/d",option:!1},nextState:"2"},"d|qd|dq":{action_:{type_:"- after o/d",option:!0},nextState:"2"},"D|qD|p":{action_:["output",{type_:"bond",option:"-"}],nextState:"3"}},amount2:{"1|3":{action_:"a=",nextState:"a"}},letters:{"0|1|2|3|a|as|b|p|bp|o":{action_:"o=",nextState:"o"},"q|dq":{action_:["output","o="],nextState:"o"},"d|D|qd|qD":{action_:"o after d",nextState:"o"}},digits:{o:{action_:"q=",nextState:"q"},"d|D":{action_:"q=",nextState:"dq"},q:{action_:["output","o="],nextState:"o"},a:{action_:"o=",nextState:"o"}},"space A":{"b|p|bp":{}},space:{a:{nextState:"as"},0:{action_:"sb=false"},"1|2":{action_:"sb=true"},"r|rt|rd|rdt|rdq":{action_:"output",nextState:"0"},"*":{action_:["output","sb=true"],nextState:"1"}},"1st-level escape":{"1|2":{action_:["output",{type_:"insert+p1",option:"1st-level escape"}]},"*":{action_:["output",{type_:"insert+p1",option:"1st-level escape"}],nextState:"0"}},"[(...)]":{"r|rt":{action_:"rd=",nextState:"rd"},"rd|rdt":{action_:"rq=",nextState:"rdq"}},"...":{"o|d|D|dq|qd|qD":{action_:["output",{type_:"bond",option:"..."}],nextState:"3"},"*":{action_:[{type_:"output",option:1},{type_:"insert",option:"ellipsis"}],nextState:"1"}},". |* ":{"*":{action_:["output",{type_:"insert",option:"addition compound"}],nextState:"1"}},"state of aggregation $":{"*":{action_:["output","state of aggregation"],nextState:"1"}},"{[(":{"a|as|o":{action_:["o=","output","parenthesisLevel++"],nextState:"2"},"0|1|2|3":{action_:["o=","output","parenthesisLevel++"],nextState:"2"},"*":{action_:["output","o=","output","parenthesisLevel++"],nextState:"2"}},")]}":{"0|1|2|3|b|p|bp|o":{action_:["o=","parenthesisLevel--"],nextState:"o"},"a|as|d|D|q|qd|qD|dq":{action_:["output","o=","parenthesisLevel--"],nextState:"o"}},", ":{"*":{action_:["output","comma"],nextState:"0"}},"^_":{"*":{}},"^{(...)}|^($...$)":{"0|1|2|as":{action_:"b=",nextState:"b"},p:{action_:"b=",nextState:"bp"},"3|o":{action_:"d= kv",nextState:"D"},q:{action_:"d=",nextState:"qD"},"d|D|qd|qD|dq":{action_:["output","d="],nextState:"D"}},"^a|^\\x{}{}|^\\x{}|^\\x|'":{"0|1|2|as":{action_:"b=",nextState:"b"},p:{action_:"b=",nextState:"bp"},"3|o":{action_:"d= kv",nextState:"d"},q:{action_:"d=",nextState:"qd"},"d|qd|D|qD":{action_:"d="},dq:{action_:["output","d="],nextState:"d"}},"_{(state of aggregation)}$":{"d|D|q|qd|qD|dq":{action_:["output","q="],nextState:"q"}},"_{(...)}|_($...$)|_9|_\\x{}{}|_\\x{}|_\\x":{"0|1|2|as":{action_:"p=",nextState:"p"},b:{action_:"p=",nextState:"bp"},"3|o":{action_:"q=",nextState:"q"},"d|D":{action_:"q=",nextState:"dq"},"q|qd|qD|dq":{action_:["output","q="],nextState:"q"}},"=<>":{"0|1|2|3|a|as|o|q|d|D|qd|qD|dq":{action_:[{type_:"output",option:2},"bond"],nextState:"3"}},"#":{"0|1|2|3|a|as|o":{action_:[{type_:"output",option:2},{type_:"bond",option:"#"}],nextState:"3"}},"{}":{"*":{action_:{type_:"output",option:1},nextState:"1"}},"{...}":{"0|1|2|3|a|as|b|p|bp":{action_:"o=",nextState:"o"},"o|d|D|q|qd|qD|dq":{action_:["output","o="],nextState:"o"}},"$...$":{a:{action_:"a="},"0|1|2|3|as|b|p|bp|o":{action_:"o=",nextState:"o"},"as|o":{action_:"o="},"q|d|D|qd|qD|dq":{action_:["output","o="],nextState:"o"}},"\\bond{(...)}":{"*":{action_:[{type_:"output",option:2},"bond"],nextState:"3"}},"\\frac{(...)}":{"*":{action_:[{type_:"output",option:1},"frac-output"],nextState:"3"}},"\\overset{(...)}":{"*":{action_:[{type_:"output",option:2},"overset-output"],nextState:"3"}},"\\underset{(...)}":{"*":{action_:[{type_:"output",option:2},"underset-output"],nextState:"3"}},"\\underbrace{(...)}":{"*":{action_:[{type_:"output",option:2},"underbrace-output"],nextState:"3"}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:[{type_:"output",option:2},"color-output"],nextState:"3"}},"\\color{(...)}0":{"*":{action_:[{type_:"output",option:2},"color0-output"]}},"\\ce{(...)}":{"*":{action_:[{type_:"output",option:2},"ce"],nextState:"3"}},"\\,":{"*":{action_:[{type_:"output",option:1},"copy"],nextState:"1"}},"\\x{}{}|\\x{}|\\x":{"0|1|2|3|a|as|b|p|bp|o|c0":{action_:["o=","output"],nextState:"3"},"*":{action_:["output","o=","output"],nextState:"3"}},others:{"*":{action_:[{type_:"output",option:1},"copy"],nextState:"3"}},else2:{a:{action_:"a to o",nextState:"o",revisit:!0},as:{action_:["output","sb=true"],nextState:"1",revisit:!0},"r|rt|rd|rdt|rdq":{action_:["output"],nextState:"0",revisit:!0},"*":{action_:["output","copy"],nextState:"3"}}}),actions:{"o after d":function(n,s){if((n.d||"").match(/^[0-9]+$/)){var o,i=n.d;n.d=void 0,o=this.output(n),n.b=i}else o=this.output(n);return e.actions["o="](n,s),o},"d= kv":function(t,n){t.d=n,t.dType="kv"},"charge or bond":function(n,s){if(n.beginsWithBond){var o=[];return e.concatArray(o,this.output(n)),e.concatArray(o,e.actions.bond(n,s,"-")),o}n.d=s},"- after o/d":function(n,s,o){var i,a=e.patterns.match_("orbital",n.o||""),l=e.patterns.match_("one lowercase greek letter $",n.o||""),r=e.patterns.match_("one lowercase latin letter $",n.o||""),d=e.patterns.match_("$one lowercase latin letter$ $",n.o||""),c=s==="-"&&(a&&a.remainder===""||l||r||d);return c&&!n.a&&!n.b&&!n.p&&!n.d&&!n.q&&!a&&r&&(n.o="$"+n.o+"$"),i=[],c?(e.concatArray(i,this.output(n)),i.push({type_:"hyphen"})):(a=e.patterns.match_("digits",n.d||""),o&&a&&a.remainder===""?(e.concatArray(i,e.actions["d="](n,s)),e.concatArray(i,this.output(n))):(e.concatArray(i,this.output(n)),e.concatArray(i,e.actions.bond(n,s,"-")))),i},"a to o":function(t){t.o=t.a,t.a=void 0},"sb=true":function(t){t.sb=!0},"sb=false":function(t){t.sb=!1},"beginsWithBond=true":function(t){t.beginsWithBond=!0},"beginsWithBond=false":function(t){t.beginsWithBond=!1},"parenthesisLevel++":function(t){t.parenthesisLevel++},"parenthesisLevel--":function(t){t.parenthesisLevel--},"state of aggregation":function(n,s){return{type_:"state of aggregation",p1:e.go(s,"o")}},comma:function(t,n){var s=n.replace(/\s*$/,""),o=s!==n;return o&&t.parenthesisLevel===0?{type_:"comma enumeration L",p1:s}:{type_:"comma enumeration M",p1:s}},output:function(n,s,o){var i,a,r,c;n.r?(n.rdt==="M"?a=e.go(n.rd,"tex-math"):n.rdt==="T"?a=[{type_:"text",p1:n.rd||""}]:a=e.go(n.rd),n.rqt==="M"?r=e.go(n.rq,"tex-math"):n.rqt==="T"?r=[{type_:"text",p1:n.rq||""}]:r=e.go(n.rq),i={type_:"arrow",r:n.r,rd:a,rq:r}):(i=[],!n.a&&!n.b&&!n.p&&!n.o&&!n.q&&!n.d&&!o||(n.sb&&i.push({type_:"entitySkip"}),!n.o&&!n.q&&!n.d&&!n.b&&!n.p&&o!==2?(n.o=n.a,n.a=void 0):!n.o&&!n.q&&!n.d&&(n.b||n.p)?(n.o=n.a,n.d=n.b,n.q=n.p,n.a=n.b=n.p=void 0):n.o&&n.dType==="kv"&&e.patterns.match_("d-oxidation$",n.d||"")?n.dType="oxidation":n.o&&n.dType==="kv"&&!n.q&&(n.dType=void 0),i.push({type_:"chemfive",a:e.go(n.a,"a"),b:e.go(n.b,"bd"),p:e.go(n.p,"pq"),o:e.go(n.o,"o"),q:e.go(n.q,"pq"),d:e.go(n.d,n.dType==="oxidation"?"oxidation":"bd"),dType:n.dType})));for(c in n)c!=="parenthesisLevel"&&c!=="beginsWithBond"&&delete n[c];return i},"oxidation-output":function(n,s){var o=["{"];return e.concatArray(o,e.go(s,"oxidation")),o.push("}"),o},"frac-output":function(n,s){return{type_:"frac-ce",p1:e.go(s[0]),p2:e.go(s[1])}},"overset-output":function(n,s){return{type_:"overset",p1:e.go(s[0]),p2:e.go(s[1])}},"underset-output":function(n,s){return{type_:"underset",p1:e.go(s[0]),p2:e.go(s[1])}},"underbrace-output":function(n,s){return{type_:"underbrace",p1:e.go(s[0]),p2:e.go(s[1])}},"color-output":function(n,s){return{type_:"color",color1:s[0],color2:e.go(s[1])}},"r=":function(t,n){t.r=n},"rdt=":function(t,n){t.rdt=n},"rd=":function(t,n){t.rd=n},"rqt=":function(t,n){t.rqt=n},"rq=":function(t,n){t.rq=n},operator:function(t,n,s){return{type_:"operator",kind_:s||n}}}},a:{transitions:e.createTransitions({empty:{"*":{}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"1",revisit:!0}},"$(...)$":{"*":{action_:"tex-math tight",nextState:"1"}},",":{"*":{action_:{type_:"insert",option:"commaDecimal"}}},else2:{"*":{action_:"copy"}}}),actions:{}},o:{transitions:e.createTransitions({empty:{"*":{}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"1",revisit:!0}},letters:{"*":{action_:"rm"}},"\\ca":{"*":{action_:{type_:"insert",option:"circa"}}},"\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"{text}"}},else2:{"*":{action_:"copy"}}}),actions:{}},text:{transitions:e.createTransitions({empty:{"*":{action_:"output"}},"{...}":{"*":{action_:"text="}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"\\greek":{"*":{action_:["output","rm"]}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:["output","copy"]}},else:{"*":{action_:"text="}}}),actions:{output:function(t){if(t.text_){var s,n={type_:"text",p1:t.text_};for(s in t)delete t[s];return n}}}},pq:{transitions:e.createTransitions({empty:{"*":{}},"state of aggregation $":{"*":{action_:"state of aggregation"}},i$:{0:{nextState:"!f",revisit:!0}},"(KV letters),":{0:{action_:"rm",nextState:"0"}},formula$:{0:{nextState:"f",revisit:!0}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"!f",revisit:!0}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"text"}},"a-z":{f:{action_:"tex-math"}},letters:{"*":{action_:"rm"}},"-9.,9":{"*":{action_:"9,9"}},",":{"*":{action_:{type_:"insert+p1",option:"comma enumeration S"}}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:"color-output"}},"\\color{(...)}0":{"*":{action_:"color0-output"}},"\\ce{(...)}":{"*":{action_:"ce"}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},else2:{"*":{action_:"copy"}}}),actions:{"state of aggregation":function(n,s){return{type_:"state of aggregation subscript",p1:e.go(s,"o")}},"color-output":function(n,s){return{type_:"color",color1:s[0],color2:e.go(s[1],"pq")}}}},bd:{transitions:e.createTransitions({empty:{"*":{}},x$:{0:{nextState:"!f",revisit:!0}},formula$:{0:{nextState:"f",revisit:!0}},else:{0:{nextState:"!f",revisit:!0}},"-9.,9 no missing 0":{"*":{action_:"9,9"}},".":{"*":{action_:{type_:"insert",option:"electron dot"}}},"a-z":{f:{action_:"tex-math"}},x:{"*":{action_:{type_:"insert",option:"KV x"}}},letters:{"*":{action_:"rm"}},"'":{"*":{action_:{type_:"insert",option:"prime"}}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"text"}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:"color-output"}},"\\color{(...)}0":{"*":{action_:"color0-output"}},"\\ce{(...)}":{"*":{action_:"ce"}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},else2:{"*":{action_:"copy"}}}),actions:{"color-output":function(n,s){return{type_:"color",color1:s[0],color2:e.go(s[1],"bd")}}}},oxidation:{transitions:e.createTransitions({empty:{"*":{}},"roman numeral":{"*":{action_:"roman-numeral"}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},else:{"*":{action_:"copy"}}}),actions:{"roman-numeral":function(t,n){return{type_:"roman numeral",p1:n||""}}}},"tex-math":{transitions:e.createTransitions({empty:{"*":{action_:"output"}},"\\ce{(...)}":{"*":{action_:["output","ce"]}},"{...}|\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"o="}},else:{"*":{action_:"o="}}}),actions:{output:function(t){if(t.o){var s,n={type_:"tex-math",p1:t.o};for(s in t)delete t[s];return n}}}},"tex-math tight":{transitions:e.createTransitions({empty:{"*":{action_:"output"}},"\\ce{(...)}":{"*":{action_:["output","ce"]}},"{...}|\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"o="}},"-|+":{"*":{action_:"tight operator"}},else:{"*":{action_:"o="}}}),actions:{"tight operator":function(t,n){t.o=(t.o||"")+"{"+n+"}"},output:function(t){if(t.o){var s,n={type_:"tex-math",p1:t.o};for(s in t)delete t[s];return n}}}},"9,9":{transitions:e.createTransitions({empty:{"*":{}},",":{"*":{action_:"comma"}},else:{"*":{action_:"copy"}}}),actions:{comma:function(){return{type_:"commaDecimal"}}}},pu:{transitions:e.createTransitions({empty:{"*":{action_:"output"}},space$:{"*":{action_:["output","space"]}},"{[(|)]}":{"0|a":{action_:"copy"}},"(-)(9)^(-9)":{0:{action_:"number^",nextState:"a"}},"(-)(9.,9)(e)(99)":{0:{action_:"enumber",nextState:"a"}},space:{"0|a":{}},"pm-operator":{"0|a":{action_:{type_:"operator",option:"\\pm"},nextState:"0"}},operator:{"0|a":{action_:"copy",nextState:"0"}},"//":{d:{action_:"o=",nextState:"/"}},"/":{d:{action_:"o=",nextState:"/"}},"{...}|else":{"0|d":{action_:"d=",nextState:"d"},a:{action_:["space","d="],nextState:"d"},"/|q":{action_:"q=",nextState:"q"}}}),actions:{enumber:function(n,s){var o=[];return s[0]==="+-"||s[0]==="+/-"?o.push("\\pm "):s[0]&&o.push(s[0]),s[1]&&(e.concatArray(o,e.go(s[1],"pu-9,9")),s[2]&&(s[2].match(/[,.]/)?e.concatArray(o,e.go(s[2],"pu-9,9")):o.push(s[2])),s[3]=s[4]||s[3],s[3]&&(s[3]=s[3].trim(),s[3]==="e"||s[3].substr(0,1)==="*"?o.push({type_:"cdot"}):o.push({type_:"times"}))),s[3]&&o.push("10^{"+s[5]+"}"),o},"number^":function(n,s){var o=[];return s[0]==="+-"||s[0]==="+/-"?o.push("\\pm "):s[0]&&o.push(s[0]),e.concatArray(o,e.go(s[1],"pu-9,9")),o.push("^{"+s[2]+"}"),o},operator:function(t,n,s){return{type_:"operator",kind_:s||n}},space:function(){return{type_:"pu-space-1"}},output:function(n){var s,o,i,r,a=e.patterns.match_("{(...)}",n.d||"");a&&a.remainder===""&&(n.d=a.match_),i=e.patterns.match_("{(...)}",n.q||""),i&&i.remainder===""&&(n.q=i.match_),n.d&&(n.d=n.d.replace(/\u00B0C|\^oC|\^{o}C/g,"{}^{\\circ}C"),n.d=n.d.replace(/\u00B0F|\^oF|\^{o}F/g,"{}^{\\circ}F")),n.q?(n.q=n.q.replace(/\u00B0C|\^oC|\^{o}C/g,"{}^{\\circ}C"),n.q=n.q.replace(/\u00B0F|\^oF|\^{o}F/g,"{}^{\\circ}F"),o={d:e.go(n.d,"pu"),q:e.go(n.q,"pu")},n.o==="//"?s={type_:"pu-frac",p1:o.d,p2:o.q}:(s=o.d,o.d.length>1||o.q.length>1?s.push({type_:" / "}):s.push({type_:"/"}),e.concatArray(s,o.q))):s=e.go(n.d,"pu-2");for(r in n)delete n[r];return s}}},"pu-2":{transitions:e.createTransitions({empty:{"*":{action_:"output"}},"*":{"*":{action_:["output","cdot"],nextState:"0"}},"\\x":{"*":{action_:"rm="}},space:{"*":{action_:["output","space"],nextState:"0"}},"^{(...)}|^(-1)":{1:{action_:"^(-1)"}},"-9.,9":{0:{action_:"rm=",nextState:"0"},1:{action_:"^(-1)",nextState:"0"}},"{...}|else":{"*":{action_:"rm=",nextState:"1"}}}),actions:{cdot:function(){return{type_:"tight cdot"}},"^(-1)":function(t,n){t.rm+="^{"+n+"}"},space:function(){return{type_:"pu-space-2"}},output:function(n){var s,i,o=[];n.rm&&(s=e.patterns.match_("{(...)}",n.rm||""),s&&s.remainder===""?o=e.go(s.match_,"pu"):o={type_:"rm",p1:n.rm});for(i in n)delete n[i];return o}}},"pu-9,9":{transitions:e.createTransitions({empty:{0:{action_:"output-0"},o:{action_:"output-o"}},",":{0:{action_:["output-0","comma"],nextState:"o"}},".":{0:{action_:["output-0","copy"],nextState:"o"}},else:{"*":{action_:"text="}}}),actions:{comma:function(){return{type_:"commaDecimal"}},"output-0":function(t){var s,o,i,n=[];if(t.text_=t.text_||"",t.text_.length>4){s=t.text_.length%3,s===0&&(s=3);for(o=t.text_.length-3;o>0;o-=3)n.push(t.text_.substr(o,3)),n.push({type_:"1000 separator"});n.push(t.text_.substr(0,s)),n.reverse()}else n.push(t.text_);for(i in t)delete t[i];return n},"output-o":function(t){var s,o,i,n=[];if(t.text_=t.text_||"",t.text_.length>4){for(o=t.text_.length-3,s=0;s<o;s+=3)n.push(t.text_.substr(s,3)),n.push({type_:"1000 separator"});n.push(t.text_.substr(s))}else n.push(t.text_);for(i in t)delete t[i];return n}}}},n={go:function(t,s){if(!t)return"";for(var i,o="",r=!1,a=0;a<t.length;a++)i=t[a],typeof i=="string"?o+=i:(o+=n._go2(i),i.type_==="1st-level escape"&&(r=!0));return!s&&!r&&o&&(o="{"+o+"}"),o},_goInner:function(t){return t&&n.go(t,!0)},_go2:function(t){switch(t.type_){case"chemfive":o="";var o,a,c,l,d,i={a:n._goInner(t.a),b:n._goInner(t.b),p:n._goInner(t.p),o:n._goInner(t.o),q:n._goInner(t.q),d:n._goInner(t.d)};i.a&&(i.a.match(/^[+-]/)&&(i.a="{"+i.a+"}"),o+=i.a+"\\,"),(i.b||i.p)&&(o+="{\\vphantom{X}}",o+="^{\\hphantom{"+(i.b||"")+"}}_{\\hphantom{"+(i.p||"")+"}}",o+="{\\vphantom{X}}",o+="^{\\smash[t]{\\vphantom{2}}\\mathllap{"+(i.b||"")+"}}",o+="_{\\vphantom{2}\\mathllap{\\smash[t]{"+(i.p||"")+"}}}"),i.o&&(i.o.match(/^[+-]/)&&(i.o="{"+i.o+"}"),o+=i.o),t.dType==="kv"?((i.d||i.q)&&(o+="{\\vphantom{X}}"),i.d&&(o+="^{"+i.d+"}"),i.q&&(o+="_{\\smash[t]{"+i.q+"}}")):t.dType==="oxidation"?(i.d&&(o+="{\\vphantom{X}}",o+="^{"+i.d+"}"),i.q&&(o+="{\\vphantom{X}}",o+="_{\\smash[t]{"+i.q+"}}")):(i.q&&(o+="{\\vphantom{X}}",o+="_{\\smash[t]{"+i.q+"}}"),i.d&&(o+="{\\vphantom{X}}",o+="^{"+i.d+"}"));break;case"rm":o="\\mathrm{"+t.p1+"}";break;case"text":t.p1.match(/[\^_]/)?(t.p1=t.p1.replace(" ","~").replace("-","\\text{-}"),o="\\mathrm{"+t.p1+"}"):o="\\text{"+t.p1+"}";break;case"roman numeral":o="\\mathrm{"+t.p1+"}";break;case"state of aggregation":o="\\mskip2mu "+n._goInner(t.p1);break;case"state of aggregation subscript":o="\\mskip1mu "+n._goInner(t.p1);break;case"bond":if(o=n._getBond(t.kind_),!o)throw["MhchemErrorBond","mhchem Error. Unknown bond type ("+t.kind_+")"];break;case"frac":a="\\frac{"+t.p1+"}{"+t.p2+"}",o="\\mathchoice{\\textstyle"+a+"}{"+a+"}{"+a+"}{"+a+"}";break;case"pu-frac":c="\\frac{"+n._goInner(t.p1)+"}{"+n._goInner(t.p2)+"}",o="\\mathchoice{\\textstyle"+c+"}{"+c+"}{"+c+"}{"+c+"}";break;case"tex-math":o=t.p1+" ";break;case"frac-ce":o="\\frac{"+n._goInner(t.p1)+"}{"+n._goInner(t.p2)+"}";break;case"overset":o="\\overset{"+n._goInner(t.p1)+"}{"+n._goInner(t.p2)+"}";break;case"underset":o="\\underset{"+n._goInner(t.p1)+"}{"+n._goInner(t.p2)+"}";break;case"underbrace":o="\\underbrace{"+n._goInner(t.p1)+"}_{"+n._goInner(t.p2)+"}";break;case"color":o="{\\color{"+t.color1+"}{"+n._goInner(t.color2)+"}}";break;case"color0":o="\\color{"+t.color+"}";break;case"arrow":l={rd:n._goInner(t.rd),rq:n._goInner(t.rq)},d="\\x"+n._getArrow(t.r),l.rq&&(d+="[{"+l.rq+"}]"),l.rd?d+="{"+l.rd+"}":d+="{}",o=d;break;case"operator":o=n._getOperator(t.kind_);break;case"1st-level escape":o=t.p1+" ";break;case"space":o=" ";break;case"entitySkip":o="~";break;case"pu-space-1":o="~";break;case"pu-space-2":o="\\mkern3mu ";break;case"1000 separator":o="\\mkern2mu ";break;case"commaDecimal":o="{,}";break;case"comma enumeration L":o="{"+t.p1+"}\\mkern6mu ";break;case"comma enumeration M":o="{"+t.p1+"}\\mkern3mu ";break;case"comma enumeration S":o="{"+t.p1+"}\\mkern1mu ";break;case"hyphen":o="\\text{-}";break;case"addition compound":o="\\,{\\cdot}\\,";break;case"electron dot":o="\\mkern1mu \\bullet\\mkern1mu ";break;case"KV x":o="{\\times}";break;case"prime":o="\\prime ";break;case"cdot":o="\\cdot ";break;case"tight cdot":o="\\mkern1mu{\\cdot}\\mkern1mu ";break;case"times":o="\\times ";break;case"circa":o="{\\sim}";break;case"^":o="uparrow";break;case"v":o="downarrow";break;case"ellipsis":o="\\ldots ";break;case"/":o="/";break;case" / ":o="\\,/\\,";break;default:throw s(t),["MhchemBugT","mhchem bug T. Please report."]}return r(o),o},_getArrow:function(t){switch(t){case"->":return"rightarrow";case"→":return"rightarrow";case"⟶":return"rightarrow";case"<-":return"leftarrow";case"<->":return"leftrightarrow";case"<-->":return"rightleftarrows";case"<=>":return"rightleftharpoons";case"⇌":return"rightleftharpoons";case"<=>>":return"rightequilibrium";case"<<=>":return"leftequilibrium";default:throw s(t),["MhchemBugT","mhchem bug T. Please report."]}},_getBond:function(t){switch(t){case"-":return"{-}";case"1":return"{-}";case"=":return"{=}";case"2":return"{=}";case"#":return"{\\equiv}";case"3":return"{\\equiv}";case"~":return"{\\tripledash}";case"~-":return`{\\mathrlap{\\raisebox{-.1em}{$-$}}\\raisebox{.1em}{$\\tripledash$}}`;case"~=":return`{\\mathrlap{\\raisebox{-.2em}{$-$}}\\mathrlap{\\raisebox{.2em}{$\\tripledash$}}-}`;case"~--":return`{\\mathrlap{\\raisebox{-.2em}{$-$}}\\mathrlap{\\raisebox{.2em}{$\\tripledash$}}-}`;case"-~-":return`{\\mathrlap{\\raisebox{-.2em}{$-$}}\\mathrlap{\\raisebox{.2em}{$-$}}\\tripledash}`;case"...":return"{{\\cdot}{\\cdot}{\\cdot}}";case"....":return"{{\\cdot}{\\cdot}{\\cdot}{\\cdot}}";case"->":return`{\\rightarrow}`;case"<-":return"{\\leftarrow}";case"<":return"{<}";case">":return"{>}";default:throw s(t),["MhchemBugT","mhchem bug T. Please report."]}},_getOperator:function(t){switch(t){case"+":return" {}+{} ";case"-":return" {}-{} ";case"=":return" {}={} ";case"<":return" {}<{} ";case">":return" {}>{} ";case"<<":return" {}\\ll{} ";case">>":return" {}\\gg{} ";case"\\pm":return" {}\\pm{} ";case"\\approx":return" {}\\approx{} ";case"$\\approx$":return" {}\\approx{} ";case"v":return" \\downarrow{} ";case"(v)":return" \\downarrow{} ";case"^":return" \\uparrow{} ";case"(^)":return" \\uparrow{} ";default:throw s(t),["MhchemBugT","mhchem bug T. Please report."]}}};function s(){}function r(){}}(),n=n.default,n}()})